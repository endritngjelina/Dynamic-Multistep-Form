<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Netflix Career Application</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 100%);
            min-height: 100vh;
            color: #ffffff;
            overflow-x: hidden;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            animation: fadeInDown 0.8s ease-out;
        }

        .netflix-logo {
            font-size: 2.5rem;
            font-weight: bold;
            color: #e50914;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(229, 9, 20, 0.3);
        }

        .form-title {
            font-size: 1.8rem;
            margin-bottom: 8px;
            background: linear-gradient(45deg, #e50914, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .form-subtitle {
            color: #b3b3b3;
            font-size: 1.1rem;
        }

        .progress-container {
            margin-bottom: 40px;
            position: relative;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #e50914, #ff6b6b);
            width: 0%;
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 20px rgba(229, 9, 20, 0.4);
        }

        .step-indicators {
            display: flex;
            justify-content: space-between;
            position: relative;
        }

        .step-indicator {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .step-circle.active {
            background: linear-gradient(45deg, #e50914, #ff6b6b);
            border-color: #e50914;
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(229, 9, 20, 0.5);
        }

        .step-circle.completed {
            background: #28a745;
            border-color: #28a745;
        }

        .step-label {
            margin-top: 8px;
            font-size: 0.9rem;
            color: #b3b3b3;
            transition: color 0.3s ease;
        }

        .step-label.active {
            color: #ffffff;
            font-weight: 600;
        }

        .form-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 40px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .form-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(229, 9, 20, 0.5), transparent);
        }

        .form-step {
            display: none;
            animation: fadeInUp 0.6s ease-out;
        }

        .form-step.active {
            display: block;
        }

        .step-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #ffffff;
            text-align: center;
        }

        .form-group {
            margin-bottom: 25px;
            position: relative;
        }

        .form-row {
            display: flex;
            gap: 20px;
        }

        .form-row .form-group {
            flex: 1;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #ffffff;
            transition: color 0.3s ease;
        }

        input, select, textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
            color: #ffffff;
            font-size: 1rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #e50914;
            box-shadow: 0 0 0 3px rgba(229, 9, 20, 0.2);
            transform: translateY(-2px);
        }

        input::placeholder, textarea::placeholder {
            color: #b3b3b3;
        }

        .error-message {
            color: #ff6b6b;
            font-size: 0.9rem;
            margin-top: 5px;
            display: none;
            animation: shake 0.5s ease-in-out;
        }

        .form-group.error input,
        .form-group.error select,
        .form-group.error textarea {
            border-color: #ff6b6b;
            background: rgba(255, 107, 107, 0.1);
        }

        .form-group.error .error-message {
            display: block;
        }

        .form-group.success input,
        .form-group.success select,
        .form-group.success textarea {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .checkbox-group input[type="checkbox"] {
            width: auto;
            margin: 0;
        }

        .file-upload {
            position: relative;
            display: inline-block;
            width: 100%;
        }

        .file-upload input[type="file"] {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .file-upload-label {
            display: block;
            padding: 20px;
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.02);
        }

        .file-upload-label:hover {
            border-color: #e50914;
            background: rgba(229, 9, 20, 0.1);
        }

        .file-upload-label.has-file {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: linear-gradient(45deg, #e50914, #ff6b6b);
            color: #ffffff;
            box-shadow: 0 5px 15px rgba(229, 9, 20, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(229, 9, 20, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .summary-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #e50914;
        }

        .summary-label {
            font-weight: 600;
            color: #e50914;
            margin-bottom: 5px;
        }

        .summary-value {
            color: #ffffff;
        }

        .success-animation {
            text-align: center;
            padding: 40px;
        }

        .success-icon {
            font-size: 4rem;
            color: #28a745;
            animation: bounceIn 1s ease-out;
        }

        .loading-spinner {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top: 3px solid #e50914;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        @keyframes bounceIn {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .form-container {
                padding: 25px;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .step-indicators {
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .netflix-logo {
                font-size: 2rem;
            }
        }

        .strength-indicator {
            height: 5px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            margin-top: 8px;
            overflow: hidden;
        }

        .strength-bar {
            height: 100%;
            width: 0%;
            transition: all 0.3s ease;
            border-radius: 3px;
        }

        .strength-weak { background: #ff6b6b; }
        .strength-medium { background: #ffa500; }
        .strength-strong { background: #28a745; }

        .form-tip {
            font-size: 0.9rem;
            color: #b3b3b3;
            margin-top: 5px;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="netflix-logo">NETFLIX</div>
            <h1 class="form-title">Career Application Portal</h1>
            <p class="form-subtitle">Join the team that's revolutionizing entertainment</p>
        </div>

        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="step-indicators">
                <div class="step-indicator">
                    <div class="step-circle active" data-step="1">1</div>
                    <div class="step-label active">Personal Info</div>
                </div>
                <div class="step-indicator">
                    <div class="step-circle" data-step="2">2</div>
                    <div class="step-label">Professional</div>
                </div>
                <div class="step-indicator">
                    <div class="step-circle" data-step="3">3</div>
                    <div class="step-label">Skills & Portfolio</div>
                </div>
                <div class="step-indicator">
                    <div class="step-circle" data-step="4">4</div>
                    <div class="step-label">Review</div>
                </div>
            </div>
        </div>

        <div class="form-container">
            <form id="multiStepForm">
                <!-- Step 1: Personal Information -->
                <div class="form-step active" data-step="1">
                    <h2 class="step-title">Personal Information</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">First Name *</label>
                            <input type="text" id="firstName" name="firstName" required>
                            <div class="error-message"></div>
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name *</label>
                            <input type="text" id="lastName" name="lastName" required>
                            <div class="error-message"></div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="email">Email Address *</label>
                        <input type="email" id="email" name="email" required>
                        <div class="error-message"></div>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone Number *</label>
                        <input type="tel" id="phone" name="phone" required>
                        <div class="error-message"></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="city">City *</label>
                            <input type="text" id="city" name="city" required>
                            <div class="error-message"></div>
                        </div>
                        <div class="form-group">
                            <label for="country">Country *</label>
                            <select id="country" name="country" required>
                                <option value="">Select Country</option>
                                <option value="us">United States</option>
                                <option value="ca">Canada</option>
                                <option value="uk">United Kingdom</option>
                                <option value="de">Germany</option>
                                <option value="fr">France</option>
                                <option value="jp">Japan</option>
                                <option value="au">Australia</option>
                                <option value="br">Brazil</option>
                                <option value="in">India</option>
                                <option value="other">Other</option>
                            </select>
                            <div class="error-message"></div>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Professional Information -->
                <div class="form-step" data-step="2">
                    <h2 class="step-title">Professional Background</h2>
                    <div class="form-group">
                        <label for="position">Position Applied For *</label>
                        <select id="position" name="position" required>
                            <option value="">Select Position</option>
                            <option value="software-engineer">Software Engineer</option>
                            <option value="data-scientist">Data Scientist</option>
                            <option value="product-manager">Product Manager</option>
                            <option value="ux-designer">UX Designer</option>
                            <option value="content-creator">Content Creator</option>
                            <option value="marketing-specialist">Marketing Specialist</option>
                            <option value="business-analyst">Business Analyst</option>
                            <option value="other">Other</option>
                        </select>
                        <div class="error-message"></div>
                    </div>
                    <div class="form-group">
                        <label for="experience">Years of Experience *</label>
                        <select id="experience" name="experience" required>
                            <option value="">Select Experience Level</option>
                            <option value="0-1">0-1 years (Entry Level)</option>
                            <option value="2-3">2-3 years (Junior)</option>
                            <option value="4-6">4-6 years (Mid-Level)</option>
                            <option value="7-10">7-10 years (Senior)</option>
                            <option value="10+">10+ years (Lead/Principal)</option>
                        </select>
                        <div class="error-message"></div>
                    </div>
                    <div class="form-group">
                        <label for="currentCompany">Current Company</label>
                        <input type="text" id="currentCompany" name="currentCompany" placeholder="Netflix, Google, Apple, etc.">
                        <div class="error-message"></div>
                    </div>
                    <div class="form-group">
                        <label for="salary">Expected Salary (USD) *</label>
                        <select id="salary" name="salary" required>
                            <option value="">Select Salary Range</option>
                            <option value="50k-75k">$50,000 - $75,000</option>
                            <option value="75k-100k">$75,000 - $100,000</option>
                            <option value="100k-150k">$100,000 - $150,000</option>
                            <option value="150k-200k">$150,000 - $200,000</option>
                            <option value="200k-300k">$200,000 - $300,000</option>
                            <option value="300k+">$300,000+</option>
                        </select>
                        <div class="error-message"></div>
                    </div>
                    <div class="form-group">
                        <label for="availability">Availability *</label>
                        <select id="availability" name="availability" required>
                            <option value="">Select Availability</option>
                            <option value="immediate">Immediate</option>
                            <option value="2-weeks">2 weeks notice</option>
                            <option value="1-month">1 month notice</option>
                            <option value="2-months">2 months notice</option>
                            <option value="flexible">Flexible</option>
                        </select>
                        <div class="error-message"></div>
                    </div>
                </div>

                <!-- Step 3: Skills & Portfolio -->
                <div class="form-step" data-step="3">
                    <h2 class="step-title">Skills & Portfolio</h2>
                    <div class="form-group">
                        <label for="skills">Technical Skills *</label>
                        <textarea id="skills" name="skills" rows="4" placeholder="List your technical skills (e.g., JavaScript, Python, React, AWS, etc.)" required></textarea>
                        <div class="form-tip">Separate skills with commas</div>
                        <div class="error-message"></div>
                    </div>
                    <div class="form-group">
                        <label for="portfolio">Portfolio URL</label>
                        <input type="url" id="portfolio" name="portfolio" placeholder="https://yourportfolio.com">
                        <div class="error-message"></div>
                    </div>
                    <div class="form-group">
                        <label for="linkedin">LinkedIn Profile *</label>
                        <input type="url" id="linkedin" name="linkedin" placeholder="https://linkedin.com/in/yourprofile" required>
                        <div class="error-message"></div>
                    </div>
                    <div class="form-group">
                        <label for="github">GitHub Profile</label>
                        <input type="url" id="github" name="github" placeholder="https://github.com/yourusername">
                        <div class="error-message"></div>
                    </div>
                    <div class="form-group">
                        <label for="resume">Resume (PDF) *</label>
                        <div class="file-upload">
                            <input type="file" id="resume" name="resume" accept=".pdf" required>
                            <label for="resume" class="file-upload-label">
                                <span class="file-upload-text">📄 Click to upload your resume (PDF only)</span>
                            </label>
                        </div>
                        <div class="error-message"></div>
                    </div>
                    <div class="form-group">
                        <label for="coverLetter">Cover Letter</label>
                        <textarea id="coverLetter" name="coverLetter" rows="6" placeholder="Tell us why you want to work at Netflix and what makes you unique..."></textarea>
                        <div class="error-message"></div>
                    </div>
                </div>

                <!-- Step 4: Review -->
                <div class="form-step" data-step="4">
                    <h2 class="step-title">Review Your Application</h2>
                    <div id="reviewContent">
                        <!-- Review content will be populated by JavaScript -->
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="terms" name="terms" required>
                        <label for="terms">I agree to the Terms of Service and Privacy Policy *</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="newsletter" name="newsletter">
                        <label for="newsletter">I'd like to receive updates about Netflix careers</label>
                    </div>
                </div>

                <!-- Success Step -->
                <div class="form-step" data-step="5">
                    <div class="success-animation">
                        <div class="success-icon">🎉</div>
                        <h2 class="step-title">Application Submitted Successfully!</h2>
                        <p>Thank you for your interest in joining Netflix. We'll review your application and get back to you within 2-3 business days.</p>
                        <div class="loading-spinner" style="display: none;"></div>
                    </div>
                </div>

                <div class="form-navigation">
                    <button type="button" class="btn btn-secondary" id="prevBtn" onclick="changeStep(-1)">Previous</button>
                    <button type="button" class="btn btn-primary" id="nextBtn" onclick="changeStep(1)">Next</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        class NetflixForm {
            constructor() {
                this.currentStep = 1;
                this.totalSteps = 4;
                this.formData = {};
                this.validationRules = {
                    firstName: { required: true, minLength: 2, pattern: /^[a-zA-Z\s]+$/ },
                    lastName: { required: true, minLength: 2, pattern: /^[a-zA-Z\s]+$/ },
                    email: { required: true, pattern: /^[^\s@]+@[^\s@]+\.[^\s@]+$/ },
                    phone: { required: true, pattern: /^[\+]?[1-9][\d]{0,15}$/ },
                    city: { required: true, minLength: 2 },
                    country: { required: true },
                    position: { required: true },
                    experience: { required: true },
                    salary: { required: true },
                    availability: { required: true },
                    skills: { required: true, minLength: 10 },
                    linkedin: { required: true, pattern: /^https?:\/\/(www\.)?linkedin\.com\/in\/[a-zA-Z0-9-]+\/?$/ },
                    portfolio: { pattern: /^https?:\/\/.+\..+/ },
                    github: { pattern: /^https?:\/\/(www\.)?github\.com\/[a-zA-Z0-9-]+\/?$/ },
                    resume: { required: true },
                    terms: { required: true }
                };
                this.init();
            }

            init() {
                this.updateProgress();
                this.setupEventListeners();
                this.setupFileUpload();
                this.updateNavigationButtons();
            }

            setupEventListeners() {
                // Real-time validation
                document.querySelectorAll('input, select, textarea').forEach(element => {
                    element.addEventListener('blur', () => this.validateField(element));
                    element.addEventListener('input', () => this.clearError(element));
                });

                // Form submission
                document.getElementById('multiStepForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.submitForm();
                });

                // Keyboard navigation
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' && e.target.tagName !== 'TEXTAREA') {
                        e.preventDefault();
                        if (this.currentStep < this.totalSteps) {
                            this.changeStep(1);
                        }
                    }
                });
            }

            setupFileUpload() {
                const fileInput = document.getElementById('resume');
                const fileLabel = document.querySelector('.file-upload-label');
                
                fileInput.addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        if (file.type === 'application/pdf') {
                            fileLabel.classList.add('has-file');
                            fileLabel.querySelector('.file-upload-text').textContent = `✅ ${file.name}`;
                            this.clearError(fileInput);
                        } else {
                            this.showError(fileInput, 'Please upload a PDF file only');
                            fileInput.value = '';
                        }
                    }
                });
            }

            validateField(element) {
                const fieldName = element.name;
                const value = element.value.trim();
                const rules = this.validationRules[fieldName];

                if (!rules) return true;

                // Required field validation
                if (rules.required && !value) {
                    this.showError(element, `${this.getFieldLabel(fieldName)} is required`);
                    return false;
                }

                // Checkbox validation
                if (element.type === 'checkbox' && rules.required && !element.checked) {
                    this.showError(element, 'This field is required');
                    return false;
                }

                // File validation
                if (element.type === 'file' && rules.required && !element.files.length) {
                    this.showError(element, 'Please upload your resume');
                    return false;
                }

                // Skip other validations if field is empty and not required
                if (!value) {
                    this.clearError(element);
                    return true;
                }

                // Pattern validation
                if (rules.pattern && !rules.pattern.test(value)) {
                    this.showError(element, this.getPatternErrorMessage(fieldName));
                    return false;
                }

                // Length validation
                if (rules.minLength && value.length < rules.minLength) {
                    this.showError(element, `${this.getFieldLabel(fieldName)} must be at least ${rules.minLength} characters`);
                    return false;
                }

                this.markAsValid(element);
                return true;
            }

            getFieldLabel(fieldName) {
                const labels = {
                    firstName: 'First Name',
                    lastName: 'Last Name',
                    email: 'Email Address',
                    phone: 'Phone Number',
                    city: 'City',
                    country: 'Country',
                    position: 'Position',
                    experience: 'Experience Level',
                    salary: 'Expected Salary',
                    availability: 'Availability',
                    skills: 'Technical Skills',
                    linkedin: 'LinkedIn Profile',
                    portfolio: 'Portfolio URL',
                    github: 'GitHub Profile',
                    resume: 'Resume',
                    terms: 'Terms and Conditions'
                };
                return labels[fieldName] || fieldName;
            }

            getPatternErrorMessage(fieldName) {
                const messages = {
                    firstName: 'First name should only contain letters and spaces',
                    lastName: 'Last name should only contain letters and spaces',
                    email: 'Please enter a valid email address',
                    phone: 'Please enter a valid phone number',
                    linkedin: 'Please enter a valid LinkedIn profile URL',
                    portfolio: 'Please enter a valid portfolio URL',
                    github: 'Please enter a valid GitHub profile URL'
                };
                return messages[fieldName] || 'Please enter a valid value';
            }

            showError(element, message) {
                const formGroup = element.closest('.form-group');
                const errorMessage = formGroup.querySelector('.error-message');
                
                formGroup.classList.add('error');
                formGroup.classList.remove('success');
                errorMessage.textContent = message;
                
                // Add shake animation
                element.style.animation = 'shake 0.5s ease-in-out';
                setTimeout(() => {
                    element.style.animation = '';
                }, 500);
            }

            clearError(element) {
                const formGroup = element.closest('.form-group');
                formGroup.classList.remove('error');
                
                // Add success state if field has value
                if (element.value.trim() || element.checked || element.files?.length) {
                    formGroup.classList.add('success');
                }
            }

            markAsValid(element) {
                const formGroup = element.closest('.form-group');
                formGroup.classList.remove('error');
                formGroup.classList.add('success');
            }

            validateStep(stepNumber) {
                const step = document.querySelector(`[data-step="${stepNumber}"]`);
                const fields = step.querySelectorAll('input, select, textarea');
                let isValid = true;

                fields.forEach(field => {
                    if (!this.validateField(field)) {
                        isValid = false;
                    }
                });

                return isValid;
            }

            changeStep(direction) {
                const newStep = this.currentStep + direction;
                
                if (newStep < 1 || newStep > this.totalSteps) return;
                
                // Validate current step before moving forward
                if (direction > 0 && !this.validateStep(this.currentStep)) {
                    // Focus on first invalid field
                    const firstError = document.querySelector('.form-group.error input, .form-group.error select, .form-group.error textarea');
                    if (firstError) {
                        firstError.focus();
                    }
                    return;
                }
                
                // Save current step data
                this.saveStepData(this.currentStep);
                
                // Hide current step
                document.querySelector(`[data-step="${this.currentStep}"]`).classList.remove('active');
                
                // Show new step
                this.currentStep = newStep;
                document.querySelector(`[data-step="${this.currentStep}"]`).classList.add('active');
                
                // Update progress
                this.updateProgress();
                this.updateStepIndicators();
                this.updateNavigationButtons();
                
                // Generate review content for step 4
                if (this.currentStep === 4) {
                    this.generateReviewContent();
                }
                
                // Smooth scroll to top
                document.querySelector('.form-container').scrollIntoView({ behavior: 'smooth' });
            }

            saveStepData(stepNumber) {
                const step = document.querySelector(`[data-step="${stepNumber}"]`);
                const fields = step.querySelectorAll('input, select, textarea');
                
                fields.forEach(field => {
                    if (field.type === 'checkbox') {
                        this.formData[field.name] = field.checked;
                    } else if (field.type === 'file') {
                        this.formData[field.name] = field.files[0];
                    } else {
                        this.formData[field.name] = field.value;
                    }
                });
            }

            updateProgress() {
                const progress = ((this.currentStep - 1) / (this.totalSteps - 1)) * 100;
                document.getElementById('progressFill').style.width = `${progress}%`;
            }

            updateStepIndicators() {
                document.querySelectorAll('.step-indicator').forEach((indicator, index) => {
                    const stepNumber = index + 1;
                    const circle = indicator.querySelector('.step-circle');
                    const label = indicator.querySelector('.step-label');
                    
                    // Reset classes
                    circle.classList.remove('active', 'completed');
                    label.classList.remove('active');
                    
                    if (stepNumber < this.currentStep) {
                        circle.classList.add('completed');
                        circle.innerHTML = '✓';
                    } else if (stepNumber === this.currentStep) {
                        circle.classList.add('active');
                        label.classList.add('active');
                        circle.innerHTML = stepNumber;
                    } else {
                        circle.innerHTML = stepNumber;
                    }
                });
            }

            updateNavigationButtons() {
                const prevBtn = document.getElementById('prevBtn');
                const nextBtn = document.getElementById('nextBtn');
                
                prevBtn.style.display = this.currentStep === 1 ? 'none' : 'inline-block';
                
                if (this.currentStep === this.totalSteps) {
                    nextBtn.textContent = 'Submit Application';
                    nextBtn.onclick = () => this.submitForm();
                } else {
                    nextBtn.textContent = 'Next';
                    nextBtn.onclick = () => this.changeStep(1);
                }
            }

            generateReviewContent() {
                const reviewContent = document.getElementById('reviewContent');
                const sections = [
                    {
                        title: 'Personal Information',
                        fields: [
                            { key: 'firstName', label: 'First Name' },
                            { key: 'lastName', label: 'Last Name' },
                            { key: 'email', label: 'Email' },
                            { key: 'phone', label: 'Phone' },
                            { key: 'city', label: 'City' },
                            { key: 'country', label: 'Country' }
                        ]
                    },
                    {
                        title: 'Professional Background',
                        fields: [
                            { key: 'position', label: 'Position Applied For' },
                            { key: 'experience', label: 'Experience Level' },
                            { key: 'currentCompany', label: 'Current Company' },
                            { key: 'salary', label: 'Expected Salary' },
                            { key: 'availability', label: 'Availability' }
                        ]
                    },
                    {
                        title: 'Skills & Portfolio',
                        fields: [
                            { key: 'skills', label: 'Technical Skills' },
                            { key: 'portfolio', label: 'Portfolio URL' },
                            { key: 'linkedin', label: 'LinkedIn Profile' },
                            { key: 'github', label: 'GitHub Profile' },
                            { key: 'resume', label: 'Resume' },
                            { key: 'coverLetter', label: 'Cover Letter' }
                        ]
                    }
                ];

                let html = '';
                sections.forEach(section => {
                    html += `<h3 style="color: #e50914; margin-bottom: 15px; font-size: 1.2rem;">${section.title}</h3>`;
                    section.fields.forEach(field => {
                        const value = this.formData[field.key];
                        if (value) {
                            let displayValue = value;
                            
                            if (field.key === 'resume' && value.name) {
                                displayValue = value.name;
                            } else if (field.key === 'coverLetter' && value.length > 100) {
                                displayValue = value.substring(0, 100) + '...';
                            }
                            
                            html += `
                                <div class="summary-item">
                                    <div class="summary-label">${field.label}</div>
                                    <div class="summary-value">${displayValue}</div>
                                </div>
                            `;
                        }
                    });
                });

                reviewContent.innerHTML = html;
            }

            async submitForm() {
                // Validate terms checkbox
                const termsCheckbox = document.getElementById('terms');
                if (!termsCheckbox.checked) {
                    this.showError(termsCheckbox, 'You must agree to the terms and conditions');
                    return;
                }

                // Save final step data
                this.saveStepData(this.currentStep);
                
                // Show loading state
                const nextBtn = document.getElementById('nextBtn');
                const originalText = nextBtn.textContent;
                nextBtn.textContent = 'Submitting...';
                nextBtn.disabled = true;
                
                // Simulate API call
                try {
                    await this.simulateAPICall();
                    
                    // Show success step
                    document.querySelector(`[data-step="${this.currentStep}"]`).classList.remove('active');
                    this.currentStep = 5;
                    document.querySelector(`[data-step="${this.currentStep}"]`).classList.add('active');
                    
                    // Hide navigation buttons
                    document.querySelector('.form-navigation').style.display = 'none';
                    
                    // Update progress to 100%
                    document.getElementById('progressFill').style.width = '100%';
                    
                    // Confetti effect
                    this.showConfetti();
                    
                } catch (error) {
                    alert('There was an error submitting your application. Please try again.');
                    nextBtn.textContent = originalText;
                    nextBtn.disabled = false;
                }
            }

            simulateAPICall() {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        console.log('Application submitted:', this.formData);
                        resolve();
                    }, 2000);
                });
            }

            showConfetti() {
                // Simple confetti effect
                const colors = ['#e50914', '#ff6b6b', '#28a745', '#ffa500', '#6c5ce7'];
                
                for (let i = 0; i < 50; i++) {
                    setTimeout(() => {
                        const confetti = document.createElement('div');
                        confetti.style.position = 'fixed';
                        confetti.style.left = Math.random() * 100 + 'vw';
                        confetti.style.top = '-10px';
                        confetti.style.width = '10px';
                        confetti.style.height = '10px';
                        confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                        confetti.style.borderRadius = '50%';
                        confetti.style.pointerEvents = 'none';
                        confetti.style.zIndex = '9999';
                        confetti.style.animation = 'confetti-fall 3s linear forwards';
                        
                        document.body.appendChild(confetti);
                        
                        setTimeout(() => {
                            confetti.remove();
                        }, 3000);
                    }, i * 100);
                }
            }
        }

        // Initialize the form
        const netflixForm = new NetflixForm();

        // Global functions for navigation
        function changeStep(direction) {
            netflixForm.changeStep(direction);
        }

        // Add confetti animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes confetti-fall {
                0% {
                    transform: translateY(-100vh) rotate(0deg);
                    opacity: 1;
                }
                100% {
                    transform: translateY(100vh) rotate(360deg);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);

        // Auto-save functionality
        let autoSaveTimeout;
        document.addEventListener('input', () => {
            clearTimeout(autoSaveTimeout);
            autoSaveTimeout = setTimeout(() => {
                netflixForm.saveStepData(netflixForm.currentStep);
                console.log('Auto-saved form data');
            }, 1000);
        });

        // Enhanced keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Tab') {
                // Enhanced tab navigation with visual indicators
                const focusableElements = document.querySelectorAll('input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled])');
                const currentIndex = Array.from(focusableElements).indexOf(document.activeElement);
                
                if (e.shiftKey) {
                    // Shift+Tab - previous element
                    if (currentIndex > 0) {
                        focusableElements[currentIndex - 1].focus();
                        e.preventDefault();
                    }
                } else {
                    // Tab - next element
                    if (currentIndex < focusableElements.length - 1) {
                        focusableElements[currentIndex + 1].focus();
                        e.preventDefault();
                    }
                }
            }
        });

        // Add accessibility improvements
        document.querySelectorAll('input, select, textarea').forEach(element => {
            element.addEventListener('focus', function() {
                this.setAttribute('aria-describedby', this.name + '-error');
            });
        });

        // Add form analytics (mock)
        const analytics = {
            trackStepCompletion: (step) => {
                console.log(`Step ${step} completed`);
            },
            trackFieldInteraction: (field) => {
                console.log(`Field ${field} interacted`);
            },
            trackFormSubmission: () => {
                console.log('Form submitted successfully');
            }
        };

        // Track step completions
        const originalChangeStep = netflixForm.changeStep;
        netflixForm.changeStep = function(direction) {
            if (direction > 0) {
                analytics.trackStepCompletion(this.currentStep);
            }
            originalChangeStep.call(this, direction);
        };
    </script>
</body>
</html>